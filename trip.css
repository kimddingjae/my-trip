/* 1. 기본 레이아웃: 스크롤 원천 봉쇄 */
html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden; /* 전체 페이지 스크롤 금지 */
  display: flex;
  flex-direction: column; /* 세로로 정렬 */
}

/* 1. 상단 마진 30px 추가 (전체화면 대비) */
h3 {
  height: 40px;
  margin: 100px 0 10px 0 !important; /* 상단 마진을 30px로 확보 */
  font-size: 1.3em;
  line-height: 40px;
  text-align: center;
}

/* 3. 컨트롤러 영역 (높이 고정) */
.controls-container {
  display: flex;
  flex-wrap: nowrap;
  justify-content: center;
  align-items: center;
  gap: 6px;
  width: calc(100% - 32px);
  max-width: 600px;
  height: 50px; /* 높이 고정 */
  margin: 0 auto 10px auto;
  flex-shrink: 0; /* 압축 방지 */
}

/* 3. 시군구 슬롯 테두리 보정 (확실히 보이도록) */
#sigun.slot {
  flex: 1;
  height: 42px;
  border-radius: 10px;
  border: 1px solid #ddd !important; /* !important로 강제 적용 */
  background-color: #ffffff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85em;
  padding: 0 10px;
  box-sizing: border-box;
  white-space: nowrap;
  overflow: hidden;
}

/* 4. 도/광역시 슬롯 보정 */
select#do.slot {
  flex: 0 0 50%;
  height: 42px;
  border: 1px solid #ddd;
  border-radius: 10px;
  font-size: 0.85em;
  box-sizing: border-box;
  text-align: center;
}

/* 3. 공통 버튼 스타일 */
#spinBtn,
#resetBtn {
  flex: 0 0 42px;
  height: 42px;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  padding: 0;
  box-sizing: border-box; /* 버튼도 테두리 포함 계산 */
}

/* 돌리기는 테두리 대신 배경색 강조 */
#spinBtn {
  background-color: #ffffff;
  border: 1px solid #ddd !important;
  color: #555;
}

/* 리셋은 테두리 명시 */
#resetBtn {
  background-color: #ffffff;
  border: 1px solid #ddd !important;
  color: #555;
}

/* 아이콘 크기 미세 조정 */
svg {
  display: block;
}

/* 4. 유연한 높이 계산 영역 (지도 + 결과창) */
/* 전체 높이(100vh) - (h3 70px + 컨트롤러 60px) = 약 80vh 남음 */
/* 남은 80vh를 6:4로 분배 */

#map {
  width: calc(100% - 32px);
  max-width: 600px;
  height: 48vh; /* 남은 공간의 60% 가량 할당 */
  margin: 0 auto;
  border-radius: 16px;
  border: 1px solid #e0e0e0;
  box-sizing: border-box;
  flex-shrink: 0;
}

/* 슬롯 내부 폰트 조정 (공간 확보) */
.slot,
#spinBtn,
#resetBtn {
  height: 42px !important;
  font-size: 0.8em !important;
}

/* 툴팁 (모바일 배려) */
.slot .tooltiptext {
  display: none; /* 모바일에서는 툴팁이 화면을 가리므로 숨기는 것이 깔끔합니다 */
}

/* AI 결과창 스타일 (기존 gptResult와 통일감 유지) */
#aiResult {
  width: calc(100% - 32px);
  max-width: 600px;
  height: 32vh; /* 지도 아래 남은 공간 활용 */
  margin: 10px auto 20px auto;
  padding: 15px;
  background: #ffffff;
  border: 1px solid #ddd;
  border-radius: 16px;
  box-sizing: border-box;
  text-align: left;
  font-size: 14px;
  line-height: 1.6;
  color: #333;

  /* 핵심: AI 답변의 줄바꿈과 공백을 그대로 보존 */
  white-space: pre-wrap; 
  
  /* 내용이 길어지면 박스 안에서만 스크롤 */
  overflow-y: auto; 
  
  /* 그림자 효과로 입체감 추가 (선택 사항) */
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
}

/* 스크롤바 디자인 (깔끔하게) */
#aiResult::-webkit-scrollbar {
  width: 6px;
}
#aiResult::-webkit-scrollbar-thumb {
  transition: all 0.5s ease-in-out;
  min-height: 100px;
  white-space: pre-wrap; /* 줄바꿈 유지 */
}

/* 2. 로딩 오버레이 및 회전 애니메이션 */
#loadingOverlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.9); /* 배경을 좀 더 불투명하게 */
  display: none; 
  flex-direction: column; /* 아이콘과 텍스트 세로 정렬 */
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* 무한 회전하는 로딩 아이콘 (CSS로 구현) */
.loader-spinner {
  width: 50px;
  height: 50px;
  border: 5px solid #f3f3f3;
  border-top: 5px solid #FF3DE5; /* 지도 서클 색상과 통일 */
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 15px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* 로딩 텍스트 스타일 */
.loading-text {
  font-weight: bold;
  color: #333;
}





